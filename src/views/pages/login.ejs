<html>

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/login.css">
</head>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>


<body class="align-items-center justify-content-center d-flex">
    <div class="flip-card-3D-wrapper" >
        <img class="logo" src="https://i.imgur.com/pfK8xFz.png" alt="">
        <div id="flip-card" class="">
            <div class="flip-card-front">
                <div>
                    <div class="mt-5">
                        <h3 class="text-center">登入</h3>
                    </div>
                    <div class="my-3 d-flex justify-content-center">
                        <input class="form-control" id="email" type="email" placeholder="輸入帳號" />
                    </div>
                    <div class="my-3 d-flex justify-content-center">
                        <input class="form-control" id="password" type="password" placeholder="輸入密碼" />
                    </div>
                    <div class="d-flex justify-content-center mt-4 mb-3">
                        <button id="btn" class="btn btn-primary mr-4">登入</button>
                        <button id="flip-card-btn-turn-to-back"  class="btn btn-primary">我要註冊</button>
                    </div>
                </div>
            </div>
            <div class="flip-card-back">
                <div>
                    <div class="mt-5">
                        <h3 class="text-center">註冊</h3>
                    </div>
                    <div class="my-3 d-flex justify-content-center">
                        <input class="form-control" id="password" type="password" placeholder="輸入帳號" />
                    </div>
                    <div class="my-3 d-flex justify-content-center">
                        <input class="form-control" id="password" type="password" placeholder="輸入密碼" />
                    </div>
                    <div class="my-3 d-flex justify-content-center">
                        <input class="form-control" id="password" type="password" placeholder="確認密碼" />
                    </div>
                    <div class="d-flex justify-content-center mt-4 mb-3">
                        <button id="flip-card-btn-turn-to-front"  class="btn btn-primary mr-4">我要登入</button>
                        <button class="btn btn-primary">註冊</button>
                    </div>                  
                </div>
            </div>
        </div>
    </div>

</body>

<style>
@import url('https://fonts.googleapis.com/css?family=Open+Sans:300,600');
html,
body {
    height: 100vh;
    width: 100%;
    background: ivory;
    overflow: hidden;
    font-family: 'Open Sans', sans-serif;
}
.login {
    background-color: rgba(255, 255, 255, 1);
}

.card-border {
    border-top: 5px solid;
    border-top-color: #dc3545;
}

.register {
    background-color: rgb(188, 53, 53)
}

.logo {
    z-index: 10000;
    position: absolute;
    top: -50;
    right: -50;
    width: 150px;
    height: 150px;
}

.form-control{
    width: inherit;
}    

html * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

*,
*:after,
*:before {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}


.flip-card-3D-wrapper {
    width: 60%;
    height: 50%;
    max-width: 300px;
    position: relative;
    -o-perspective: 900px;
    -webkit-perspective: 900px;
    -ms-perspective: 900px;
    perspective: 900px;
    margin: 0 auto;
}

#flip-card {
    width: 100%;
    height: 100%;
    text-align: center;
    margin: 50px auto;
    position: absolute;
    -o-transition: all 1s ease-in-out;
    -webkit-transition: all 1s ease-in-out;
    -ms-transition: all 1s ease-in-out;
    transition: all 1s ease-in-out;
    -o-transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
    -ms-transform-style: preserve-3d;
    transform-style: preserve-3d;
}

.do-flip {
    -o-transform: rotateY(-180deg);
    -webkit-transform: rotateY(-180deg);
    -ms-transform: rotateY(-180deg);
    transform: rotateY(-180deg);
}


#flip-card .flip-card-front,
#flip-card .flip-card-back {
    width: 100%;
    position: absolute;
    -o-backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    -ms-backface-visibility: hidden;
    backface-visibility: hidden;
    z-index: 2;
    -webkit-box-shadow: 5px 6px 32px 2px rgba(133, 133, 133, 0.71);
    -moz-box-shadow: 5px 6px 32px 2px rgba(133, 133, 133, 0.71);
    box-shadow: 5px 6px 32px 2px rgba(133, 133, 133, 0.71);
}

#flip-card .flip-card-front {
    background: rgba(255, 255, 255, 1);
    border-top: 5px solid rgb(188, 53, 53);
}

#flip-card .flip-card-back {
    background: lightblue;
    border-top: 5px solid rgb(188, 53, 53);
    -o-transform: rotateY(180deg);
    -webkit-transform: rotateY(180deg);
    -ms-transform: rotateY(180deg);
    transform: rotateY(180deg);
}

.flip-card-back, .flip-card-front {
    border-radius: 20px;
}

#flip-card .flip-card-front p,
#flip-card .flip-card-back p {
    color: grey;
    display: block;
    position: absolute;
    top: 40%;
    width: 100%;
}


</style>

<script>
    document.addEventListener('DOMContentLoaded', function (event) {

        document.getElementById('flip-card-btn-turn-to-back').style.visibility = 'visible';
        document.getElementById('flip-card-btn-turn-to-front').style.visibility = 'visible';

        document.getElementById('flip-card-btn-turn-to-back').onclick = function () {
            document.getElementById('flip-card').classList.toggle('do-flip');
        };

        document.getElementById('flip-card-btn-turn-to-front').onclick = function () {
            document.getElementById('flip-card').classList.toggle('do-flip');
        };

    });


    // var socket = io.connect('http://localhost:8080');

    // socket.on('chat', function (data) {
    //     myApp.hello = data.message;
    // });

    $('#btn').click(function () {
        let email = $('#email').val();
        let password = $('#password').val();
        let payload = {
            username: email,
            password
        };
        $.ajax({
            type: 'POST',
            url: '/login',
            data: payload,
            success: data => {
                console.log('login success');
                console.log(data);
            },
            error: function (xhr, textStatus, error) {
                console.log('incorrect email or password');
                console.log(xhr.statusText);
                console.log(textStatus);
                console.log(error);
            }
        });
    })
</script>


<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
